<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apple</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "SF Pro Display", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif;
            background: #f5f5f7;
            color: #1d1d1f;
        }

        /* Navigation */
        .nav {
            background: rgba(251, 251, 253, 0.8);
            backdrop-filter: saturate(180%) blur(20px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-inner {
            max-width: 1024px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 44px;
            padding: 0 22px;
        }

        .nav-logo {
            width: 16px;
            height: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
        }

        .apple-logo {
            width: 16px;
            height: 20px;
            fill: #1d1d1f;
        }

        .nav-items {
            display: flex;
            list-style: none;
            gap: 32px;
        }

        .nav-items a {
            color: #1d1d1f;
            text-decoration: none;
            font-size: 12px;
            font-weight: 400;
            transition: opacity 0.3s ease;
        }

        .nav-items a:hover {
            opacity: 0.7;
        }

        .nav-right {
            display: flex;
            gap: 24px;
        }

        .nav-search, .nav-ca {
            color: #1d1d1f;
            text-decoration: none;
            font-size: 16px;
            transition: opacity 0.3s ease;
        }

        .nav-search:hover {
            opacity: 0.7;
        }

        .nav-ca {
            font-size: 12px;
            font-weight: 400;
        }

        /* Main Content Area */
        .main-content {
            min-height: calc(100vh - 44px);
            background: #f5f5f7;
            padding: 60px 22px;
        }

        /* AI Terminal Section */
        .ai-terminal {
            max-width: 980px;
            margin: 0 auto;
            text-align: center;
        }

        .terminal-title {
            font-size: 48px;
            line-height: 1.08349;
            font-weight: 600;
            letter-spacing: -0.003em;
            color: #1d1d1f;
            margin-bottom: 15px;
        }

        .terminal-subtitle {
            font-size: 21px;
            line-height: 1.381;
            font-weight: 400;
            letter-spacing: 0.011em;
            color: #86868b;
            margin-bottom: 60px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* 3D Model Container */
        .model-container {
            width: 100%;
            max-width: 600px;
            height: 400px;
            margin: 0 auto 40px;
            background: #fff;
            border-radius: 18px;
            border: 1px solid #e5e5e7;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .model-placeholder {
            color: #86868b;
            font-size: 17px;
            line-height: 1.47059;
            font-weight: 400;
            letter-spacing: -0.022em;
        }

        /* Chat Interface */
        .chat-interface {
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
        }

        .chat-messages {
            background: #fff;
            border-radius: 18px;
            border: 1px solid #e5e5e7;
            margin-bottom: 20px;
            max-height: 200px;
            overflow-y: auto;
            padding: 20px;
            display: none;
        }

        .chat-messages.visible {
            display: block;
        }

        .message {
            margin-bottom: 15px;
            padding: 12px 16px;
            border-radius: 18px;
            max-width: 80%;
            animation: slideIn 0.3s ease;
        }

        .message.user {
            background: #007aff;
            color: white;
            margin-left: auto;
        }

        .message.assistant {
            background: #f2f2f7;
            color: #1d1d1f;
            margin-right: auto;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .chat-input-container {
            position: relative;
            background: #fff;
            border-radius: 24px;
            border: 1px solid #e5e5e7;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }

        .chat-input {
            width: 100%;
            padding: 16px 60px 16px 20px;
            border: none;
            outline: none;
            font-family: "SF Pro Display", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif;
            font-size: 17px;
            line-height: 1.47059;
            font-weight: 400;
            letter-spacing: -0.022em;
            color: #1d1d1f;
            background: transparent;
            resize: none;
            min-height: 24px;
            max-height: 120px;
        }

        .chat-input::placeholder {
            color: #86868b;
        }

        .send-button {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            width: 36px;
            height: 36px;
            background: #007aff;
            border: none;
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .send-button:hover {
            background: #0051d5;
            transform: translateY(-50%) scale(1.05);
        }

        .send-button:active {
            transform: translateY(-50%) scale(0.95);
        }

        .send-button:disabled {
            background: #86868b;
            cursor: not-allowed;
            transform: translateY(-50%);
        }

        .send-button svg {
            width: 16px;
            height: 16px;
            fill: #fff;
        }

        /* Status Text */
        .status-text {
            margin-top: 20px;
            font-size: 14px;
            line-height: 1.42857;
            font-weight: 400;
            letter-spacing: -0.016em;
            color: #86868b;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-items {
                display: none;
            }
        }

        /* Info Modal */
        .info-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(20px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .info-modal.visible {
            display: flex;
        }

        .info-modal-content {
            background: #fff;
            border-radius: 18px;
            border: 1px solid #e5e5e7;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            max-width: 700px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            padding: 40px;
            text-align: center;
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from { opacity: 0; transform: scale(0.9) translateY(20px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        .info-modal-title {
            font-size: 28px;
            line-height: 1.14286;
            font-weight: 600;
            letter-spacing: 0.007em;
            color: #1d1d1f;
            margin-bottom: 20px;
        }

        .info-modal-text {
            font-size: 17px;
            line-height: 1.47059;
            font-weight: 400;
            letter-spacing: -0.022em;
            color: #86868b;
            margin-bottom: 30px;
            min-height: 50px;
            white-space: pre-line;
            text-align: left;
        }

        .info-modal-text.typing::after {
            content: '|';
            animation: blink 1s infinite;
            color: #007aff;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .info-modal-close {
            background: #007aff;
            color: white;
            border: none;
            border-radius: 12px;
            padding: 12px 24px;
            font-family: "SF Pro Display", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif;
            font-size: 17px;
            font-weight: 400;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .info-modal-close:hover {
            background: #0051d5;
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-inner">
            <a href="#" class="nav-logo">
                <svg class="apple-logo" viewBox="0 0 814 1000">
                    <path d="M788.1 340.9c-5.8 4.5-108.2 62.2-108.2 190.5 0 148.4 130.3 200.9 134.2 202.2-.6 3.2-20.7 71.9-68.7 141.9-42.8 61.6-87.5 123.1-155.5 123.1s-85.5-39.5-164-39.5c-76.5 0-103.7 40.8-165.9 40.8s-105.6-57-155.5-127C46.7 790.7 0 663 0 541.8c0-194.4 126.4-297.5 250.8-297.5 65.6 0 120.5 43.9 162.2 43.9 40.8 0 103.9-47.18 180.8-47.18 29.6 0 137.3 2.64 186.8 99.64zm-144.4-268.3c35.2-42.5 58.9-101.4 58.9-160.4 0-8.2-.9-16.4-2.6-23.5-56.3 2.6-124.7 37.4-165.8 85.7-33.8 39.2-65.6 101.4-65.6 160.9 0 9.1.9 18.3 1.5 21.1 2.6.6 6.7.9 10.9.9 50.3 0 114.8-33.8 162.7-84.7z"/>
                </svg>
            </a>
            <ul class="nav-items">
                <li><a href="#" onclick="showInfoModal('vision')">Vision</a></li>
                <li><a href="#" onclick="showInfoModal('companion')">Companion</a></li>
                <li><a href="#" onclick="showInfoModal('support')">Support</a></li>
            </ul>
            <div class="nav-right">
                <a href="#" class="nav-search">
                    <svg width="15" height="15" viewBox="0 0 300 300" fill="none">
                        <path d="M178.57 127.15 290.27 0h-26.46l-97.03 110.38L89.34 0H0l117.13 166.93L0 300.25h26.46l102.4-116.59 81.8 116.59H300M36.01 19.54H76.66l187.13 262.13h-40.66" fill="#1d1d1f"/>
                    </svg>
                </a>
                <span class="nav-ca">CA:</span>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <section class="ai-terminal">
            <h1 class="terminal-title">iCompanion</h1>
            <p class="terminal-subtitle">Experience the future of personal intelligence. Your iCompanion is ready to assist.</p>
            
            <!-- 3D Model Container -->
            <div class="model-container" id="modelContainer">
                <p class="model-placeholder">3D iCompanion Model will load here</p>
            </div>
            
            <!-- Chat Interface -->
            <div class="chat-interface">
                <div class="chat-messages" id="chatMessages"></div>
                
                <div class="chat-input-container">
                    <textarea 
                        class="chat-input" 
                        placeholder="Ask your iCompanion anything..."
                        rows="1"
                        id="chatInput"
                    ></textarea>
                    <button class="send-button" id="sendButton">
                        <svg viewBox="0 0 24 24" fill="none">
                            <path d="M22 2L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M22 2L15 22L11 13L2 9L22 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
                <p class="status-text">Ready to help â€¢ Privacy protected</p>
            </div>
        </section>
    </main>

    <!-- Info Modal -->
    <div class="info-modal" id="infoModal">
        <div class="info-modal-content">
            <h2 class="info-modal-title" id="modalTitle">Title</h2>
            <p class="info-modal-text" id="modalText">Description text goes here.</p>
            <button class="info-modal-close" onclick="closeInfoModal()">Close</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script>
        // Auto-resize textarea
        const chatInput = document.getElementById('chatInput');
        const sendButton = document.getElementById('sendButton');
        const chatMessages = document.getElementById('chatMessages');
        
        chatInput.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 120) + 'px';
        });
        
        // Add message to chat
        function addMessage(content, isUser = false) {
            const message = document.createElement('div');
            message.className = `message ${isUser ? 'user' : 'assistant'}`;
            message.textContent = content;
            
            chatMessages.appendChild(message);
            chatMessages.classList.add('visible');
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // Mock AI responses
        const responses = [
            "Hello! I'm your iCompanion. How can I assist you today?",
            "That's an interesting question! Let me think about that...",
            "I'm here to help you with whatever you need. What would you like to explore?",
            "Great question! I'd be happy to help you with that.",
            "I understand what you're asking. Here's what I think...",
            "That's a thoughtful inquiry. Let me provide some insights."
        ];
        
        // Send message functionality
        function sendMessage() {
            const message = chatInput.value.trim();
            if (message) {
                // Add user message
                addMessage(message, true);
                chatInput.value = '';
                chatInput.style.height = 'auto';
                
                // Simulate AI thinking
                sendButton.disabled = true;
                setTimeout(() => {
                    const response = responses[Math.floor(Math.random() * responses.length)];
                    addMessage(response, false);
                    sendButton.disabled = false;
                }, 1000 + Math.random() * 2000);
            }
        }
        
        sendButton.addEventListener('click', sendMessage);
        
        chatInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        // Info Modal Functions
        function showInfoModal(type) {
            const modal = document.getElementById('infoModal');
            const title = document.getElementById('modalTitle');
            const text = document.getElementById('modalText');
            
            switch(type) {
                case 'vision':
                    title.textContent = 'Vision';
                    text.textContent = 'Prepare for the impossible.\n\n2027:\nYour iCompanion becomes your home brain - controlling every device with a single glance, predicting your needs hours before you have them, and creating personalized environments that adapt in real-time to your emotions. Imagine walking into a room and having the perfect lighting, temperature, music, and even scent automatically configured based on your stress levels and daily goals.\n\n2028:\nRevolutionary health breakthrough - your iCompanion detects health issues weeks before symptoms appear through micro-expressions, voice patterns, and behavioral changes. It connects directly with medical professionals worldwide, potentially saving millions of lives through early intervention. Plus, it becomes your personal nutritionist, creating custom meals using robotic kitchen assistants.\n\n2029:\nTransform into a productivity powerhouse - attend meetings as a holographic presence, have your iCompanion negotiate deals while you sleep, and watch it manage entire business operations autonomously. For families, it becomes an AI nanny that teaches children multiple languages fluently and provides personalized education that adapts to each child learning style in real-time.\n\n2030:\nThe ultimate financial revolution - your iCompanion becomes your personal financial advisor, analyzing market sentiment and viral social media trends to recommend smart investments in stocks, crypto, and emerging memecoins. It provides personalized portfolio strategies for everyone from crypto enthusiasts to complete beginners, helping you discover the next moonshot token before it goes viral while securing your retirement through intelligent traditional investments.\n\nImagine having a Wall Street expert in your living room, turning your spare change into wealth through expert guidance. This is not just technology. This is human potential unleashed, making millionaires out of ordinary people.';
                    break;
                case 'companion':
                    title.textContent = 'iCompanion';
                    text.textContent = 'Introducing the future of personal computing. iCompanion redefines what it means to have an AI companion. Imagine a device that does not just respond to commands, but truly understands and engages with your world like a trusted friend in the room.\n\nOur revolutionary tabletop companion features an advanced visual personality with an animated Finder-inspired interface, powered by next-generation Siri technology that remembers, learns, and grows with you.\n\nWhether its seamlessly joining conversations to suggest the perfect restaurant, helping plan your next adventure through natural dialogue, or following you around the room during FaceTime calls with Center Stage technology - iCompanion transforms how you interact with technology.\n\nComing 2027, this is not just another device. It is your intelligent companion, designed to be as natural and intuitive as human conversation itself.';
                    break;
                case 'support':
                    title.textContent = 'Support';
                    text.textContent = 'Add your Support description here.';
                    break;
            }
            
            modal.classList.add('visible');
        }
        
        function closeInfoModal() {
            const modal = document.getElementById('infoModal');
            modal.classList.remove('visible');
        }
        
        // Close modal when clicking outside
        document.getElementById('infoModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeInfoModal();
            }
        });
        
        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeInfoModal();
            }
        });
        
        // Three.js Scene Setup
        const modelContainer = document.getElementById('modelContainer');
        let scene, camera, renderer, robot, mixer;
        
        function initThreeJS() {
            console.log('Initializing Three.js...');
            
            // Scene
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0xffffff);
            
            // Camera
            camera = new THREE.PerspectiveCamera(75, 600/400, 0.1, 1000);
            camera.position.set(0, 0, 3.2);
            camera.lookAt(0, 0, 0);
            
            // Renderer
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(600, 400);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            
            // Lighting
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(10, 10, 5);
            directionalLight.castShadow = true;
            scene.add(directionalLight);
            
            // Clear placeholder and add renderer
            modelContainer.innerHTML = '';
            modelContainer.appendChild(renderer.domElement);
            
            // Update placeholder to show loading
            const loadingText = document.createElement('p');
            loadingText.className = 'model-placeholder';
            loadingText.textContent = 'Loading robot model...';
            loadingText.style.position = 'absolute';
            loadingText.style.top = '50%';
            loadingText.style.left = '50%';
            loadingText.style.transform = 'translate(-50%, -50%)';
            loadingText.style.zIndex = '10';
            modelContainer.style.position = 'relative';
            modelContainer.appendChild(loadingText);
            
            // Load GLB Model
            console.log('Loading robot.glb...');
            const loader = new THREE.GLTFLoader();
            
            loader.load(
                './robot.glb',
                function(gltf) {
                    console.log('GLB loaded successfully!', gltf);
                    
                    // Remove loading text
                    if (loadingText) loadingText.remove();
                    
                    robot = gltf.scene;
                    
                    // Scale and position the robot
                    robot.scale.set(4, 4, 4);
                    robot.position.set(0, -1.8, 0);
                    
                    // Enable shadows
                    robot.traverse(function(child) {
                        if (child.isMesh) {
                            child.castShadow = true;
                            child.receiveShadow = true;
                        }
                    });
                    
                    scene.add(robot);
                    console.log('Robot added to scene');
                    
                    // Start animation if available
                    if (gltf.animations && gltf.animations.length > 0) {
                        console.log('Found animations:', gltf.animations.length);
                        mixer = new THREE.AnimationMixer(robot);
                        const action = mixer.clipAction(gltf.animations[0]);
                        action.play();
                    }
                    
                    // Start render loop
                    animate();
                },
                function(progress) {
                    const percentage = Math.round((progress.loaded / progress.total) * 100);
                    console.log('Loading progress:', percentage + '%');
                    if (loadingText) {
                        loadingText.textContent = `Loading robot model... ${percentage}%`;
                    }
                },
                function(error) {
                    console.error('Error loading GLB file:', error);
                    if (loadingText) {
                        loadingText.textContent = 'Error: Could not load robot.glb. Check console for details.';
                        loadingText.style.color = '#ff3b30';
                    }
                }
            );
            
            function animate() {
                requestAnimationFrame(animate);
                
                if (mixer) {
                    mixer.update(0.016); // ~60fps
                }
                
                // Rotate robot slowly
                if (robot) {
                    robot.rotation.y += 0.01;
                }
                
                renderer.render(scene, camera);
            }
        }
        
        // Handle window resize
        window.addEventListener('resize', function() {
            if (camera && renderer) {
                camera.aspect = 600 / 400;
                camera.updateProjectionMatrix();
                renderer.setSize(600, 400);
            }
        });
        
        // Initialize Three.js when page loads
        window.addEventListener('load', function() {
            console.log('Page loaded, starting Three.js initialization...');
            initThreeJS();
        });
    </script>
</body>
</html>
