<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apple</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "SF Pro Display", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif;
            background: #f5f5f7;
            color: #1d1d1f;
        }

        /* Navigation */
        .nav {
            background: rgba(251, 251, 253, 0.8);
            backdrop-filter: saturate(180%) blur(20px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-inner {
            max-width: 1024px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 44px;
            padding: 0 22px;
        }

        .nav-logo {
            width: 16px;
            height: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
        }

        .apple-logo {
            width: 16px;
            height: 20px;
            fill: #1d1d1f;
        }

        .nav-items {
            display: flex;
            list-style: none;
            gap: 32px;
        }

        .nav-items a {
            color: #1d1d1f;
            text-decoration: none;
            font-size: 12px;
            font-weight: 400;
            transition: opacity 0.3s ease;
        }

        .nav-items a:hover {
            opacity: 0.7;
        }

        .nav-right {
            display: flex;
            gap: 18px;
        }

        .nav-search, .nav-bag {
            color: #1d1d1f;
            text-decoration: none;
            font-size: 16px;
            transition: opacity 0.3s ease;
        }

        .nav-search:hover, .nav-bag:hover {
            opacity: 0.7;
        }

        /* Main Content Area */
        .main-content {
            min-height: calc(100vh - 44px);
            background: #f5f5f7;
            padding: 60px 22px;
        }

        /* AI Terminal Section */
        .ai-terminal {
            max-width: 980px;
            margin: 0 auto;
            text-align: center;
        }

        .terminal-title {
            font-size: 48px;
            line-height: 1.08349;
            font-weight: 600;
            letter-spacing: -0.003em;
            color: #1d1d1f;
            margin-bottom: 15px;
        }

        .terminal-subtitle {
            font-size: 21px;
            line-height: 1.381;
            font-weight: 400;
            letter-spacing: 0.011em;
            color: #86868b;
            margin-bottom: 60px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* 3D Model Container */
        .model-container {
            width: 100%;
            max-width: 600px;
            height: 400px;
            margin: 0 auto 40px;
            background: #fff;
            border-radius: 18px;
            border: 1px solid #e5e5e7;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .model-placeholder {
            color: #86868b;
            font-size: 17px;
            line-height: 1.47059;
            font-weight: 400;
            letter-spacing: -0.022em;
        }

        /* Chat Interface */
        .chat-interface {
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
        }

        .chat-input-container {
            position: relative;
            background: #fff;
            border-radius: 24px;
            border: 1px solid #e5e5e7;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }

        .chat-input {
            width: 100%;
            padding: 16px 60px 16px 20px;
            border: none;
            outline: none;
            font-family: "SF Pro Display", "SF Pro Icons", "Helvetica Neue", "Helvetica", "Arial", sans-serif;
            font-size: 17px;
            line-height: 1.47059;
            font-weight: 400;
            letter-spacing: -0.022em;
            color: #1d1d1f;
            background: transparent;
            resize: none;
            min-height: 24px;
            max-height: 120px;
        }

        .chat-input::placeholder {
            color: #86868b;
        }

        .send-button {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            width: 36px;
            height: 36px;
            background: #007aff;
            border: none;
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .send-button:hover {
            background: #0051d5;
            transform: translateY(-50%) scale(1.05);
        }

        .send-button:active {
            transform: translateY(-50%) scale(0.95);
        }

        .send-button svg {
            width: 16px;
            height: 16px;
            fill: #fff;
        }

        /* Status Text */
        .status-text {
            margin-top: 20px;
            font-size: 14px;
            line-height: 1.42857;
            font-weight: 400;
            letter-spacing: -0.016em;
            color: #86868b;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-items {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-inner">
            <a href="#" class="nav-logo">
                <svg class="apple-logo" viewBox="0 0 814 1000">
                    <path d="M788.1 340.9c-5.8 4.5-108.2 62.2-108.2 190.5 0 148.4 130.3 200.9 134.2 202.2-.6 3.2-20.7 71.9-68.7 141.9-42.8 61.6-87.5 123.1-155.5 123.1s-85.5-39.5-164-39.5c-76.5 0-103.7 40.8-165.9 40.8s-105.6-57-155.5-127C46.7 790.7 0 663 0 541.8c0-194.4 126.4-297.5 250.8-297.5 65.6 0 120.5 43.9 162.2 43.9 40.8 0 103.9-47.18 180.8-47.18 29.6 0 137.3 2.64 186.8 99.64zm-144.4-268.3c35.2-42.5 58.9-101.4 58.9-160.4 0-8.2-.9-16.4-2.6-23.5-56.3 2.6-124.7 37.4-165.8 85.7-33.8 39.2-65.6 101.4-65.6 160.9 0 9.1.9 18.3 1.5 21.1 2.6.6 6.7.9 10.9.9 50.3 0 114.8-33.8 162.7-84.7z"/>
                </svg>
            </a>
            <ul class="nav-items">
                <li><a href="#">Store</a></li>
                <li><a href="#">Mac</a></li>
                <li><a href="#">iPad</a></li>
                <li><a href="#">iPhone</a></li>
                <li><a href="#">Watch</a></li>
                <li><a href="#">Vision</a></li>
                <li><a href="#">AirPods</a></li>
                <li><a href="#">TV & Home</a></li>
                <li><a href="#">Entertainment</a></li>
                <li><a href="#">Accessories</a></li>
                <li><a href="#">Support</a></li>
            </ul>
            <div class="nav-right">
                <a href="#" class="nav-search">
                    <svg width="15" height="15" viewBox="0 0 15 15" fill="none">
                        <path d="M10.5 6.5C10.5 8.98528 8.48528 11 6 11C3.51472 11 1.5 8.98528 1.5 6.5C1.5 4.01472 3.51472 2 6 2C8.48528 2 10.5 4.01472 10.5 6.5ZM9.5 6.5C9.5 8.433 7.933 10 6 10C4.067 10 2.5 8.433 2.5 6.5C2.5 4.567 4.067 3 6 3C7.933 3 9.5 4.567 9.5 6.5Z" fill="#1d1d1f"/>
                        <path d="M13.5 13.5L9.5 9.5" stroke="#1d1d1f" stroke-width="1" stroke-linecap="round"/>
                    </svg>
                </a>
                <a href="#" class="nav-bag">
                    <svg width="14" height="16" viewBox="0 0 14 16" fill="none">
                        <path d="M11 4H3C2.44772 4 2 4.44772 2 5V13C2 14.1046 2.89543 15 4 15H10C11.1046 15 12 14.1046 12 13V5C12 4.44772 11.5523 4 11 4Z" stroke="#1d1d1f" stroke-width="1"/>
                        <path d="M5 2C5 1.44772 5.44772 1 6 1H8C8.55228 1 9 1.44772 9 2V4H5V2Z" stroke="#1d1d1f" stroke-width="1"/>
                    </svg>
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <section class="ai-terminal">
            <h1 class="terminal-title">AI Companion</h1>
            <p class="terminal-subtitle">Experience the future of personal intelligence. Your AI companion is ready to assist.</p>
            
            <!-- 3D Model Container -->
            <div class="model-container" id="modelContainer">
                <p class="model-placeholder">3D AI Companion Model will load here</p>
            </div>
            
            <!-- Chat Interface -->
            <div class="chat-interface">
                <div class="chat-input-container">
                    <textarea 
                        class="chat-input" 
                        placeholder="Ask your AI companion anything..."
                        rows="1"
                        id="chatInput"
                    ></textarea>
                    <button class="send-button" id="sendButton">
                        <svg viewBox="0 0 24 24" fill="none">
                            <path d="M22 2L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M22 2L15 22L11 13L2 9L22 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
                <p class="status-text">Ready to help â€¢ Privacy protected</p>
            </div>
        </section>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script>
        // Auto-resize textarea
        const chatInput = document.getElementById('chatInput');
        const sendButton = document.getElementById('sendButton');
        
        chatInput.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 120) + 'px';
        });
        
        // Send message functionality
        function sendMessage() {
            const message = chatInput.value.trim();
            if (message) {
                console.log('Sending message:', message);
                // Here you'll integrate with your AI companion
                chatInput.value = '';
                chatInput.style.height = 'auto';
            }
        }
        
        sendButton.addEventListener('click', sendMessage);
        
        chatInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });
        
        // Three.js Scene Setup
        const modelContainer = document.getElementById('modelContainer');
        let scene, camera, renderer, robot, mixer;
        
        function initThreeJS() {
            console.log('Initializing Three.js...');
            
            // Scene
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0xffffff);
            
            // Camera
            camera = new THREE.PerspectiveCamera(75, 600/400, 0.1, 1000);
            camera.position.set(0, 0, 5);
            
            // Renderer
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(600, 400);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            
            // Lighting
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(10, 10, 5);
            directionalLight.castShadow = true;
            scene.add(directionalLight);
            
            // Clear placeholder and add renderer
            modelContainer.innerHTML = '';
            modelContainer.appendChild(renderer.domElement);
            
            // Update placeholder to show loading
            const loadingText = document.createElement('p');
            loadingText.className = 'model-placeholder';
            loadingText.textContent = 'Loading robot model...';
            loadingText.style.position = 'absolute';
            loadingText.style.top = '50%';
            loadingText.style.left = '50%';
            loadingText.style.transform = 'translate(-50%, -50%)';
            loadingText.style.zIndex = '10';
            modelContainer.style.position = 'relative';
            modelContainer.appendChild(loadingText);
            
            // Load GLB Model
            console.log('Loading robot.glb...');
            const loader = new THREE.GLTFLoader();
            
            loader.load(
                './robot.glb',
                function(gltf) {
                    console.log('GLB loaded successfully!', gltf);
                    
                    // Remove loading text
                    if (loadingText) loadingText.remove();
                    
                    robot = gltf.scene;
                    
                    // Scale and position the robot
                    robot.scale.set(2, 2, 2);
                    robot.position.set(0, -1, 0);
                    
                    // Enable shadows
                    robot.traverse(function(child) {
                        if (child.isMesh) {
                            child.castShadow = true;
                            child.receiveShadow = true;
                        }
                    });
                    
                    scene.add(robot);
                    console.log('Robot added to scene');
                    
                    // Start animation if available
                    if (gltf.animations && gltf.animations.length > 0) {
                        console.log('Found animations:', gltf.animations.length);
                        mixer = new THREE.AnimationMixer(robot);
                        const action = mixer.clipAction(gltf.animations[0]);
                        action.play();
                    }
                    
                    // Start render loop
                    animate();
                },
                function(progress) {
                    const percentage = Math.round((progress.loaded / progress.total) * 100);
                    console.log('Loading progress:', percentage + '%');
                    if (loadingText) {
                        loadingText.textContent = `Loading robot model... ${percentage}%`;
                    }
                },
                function(error) {
                    console.error('Error loading GLB file:', error);
                    if (loadingText) {
                        loadingText.textContent = 'Error: Could not load robot.glb. Check console for details.';
                        loadingText.style.color = '#ff3b30';
                    }
                }
            );
            
            function animate() {
                requestAnimationFrame(animate);
                
                if (mixer) {
                    mixer.update(0.016); // ~60fps
                }
                
                // Rotate robot slowly
                if (robot) {
                    robot.rotation.y += 0.01;
                }
                
                renderer.render(scene, camera);
            }
        }
        
        // Handle window resize
        window.addEventListener('resize', function() {
            if (camera && renderer) {
                camera.aspect = 600 / 400;
                camera.updateProjectionMatrix();
                renderer.setSize(600, 400);
            }
        });
        
        // Initialize Three.js when page loads
        window.addEventListener('load', function() {
            console.log('Page loaded, starting Three.js initialization...');
            initThreeJS();
        });
    </script>
</body>
</html>
